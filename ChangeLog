2008-08-05  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm, cgi/RequestParser.pm, cgi/SnippetMaker.pm:
	KWIC生成時に、付属語を考慮する／しないを切り替えられるようにした.

	* scripts/snippet_maker_test.pl:
	付属語を考慮するオプションを追加.

	* cgi/Renderer.pm, cgi/RequestParser.pm, cgi/SnippetMaker.pm:
	係り受けを考慮してKWICを生成できるようにした.

	* scripts/snippet-server.sh:
	スニペットサーバー起動時のオプションに-zを追加.

	* scripts/snippet_make_server.pl:
	-zオプションの追加.

	* scripts/snippet_maker_test.pl:
	KWIC生成時に係り受けを考慮するオプション(-use_of_dpnd_for_kwic)を追加.

2008-08-04  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryKeyword.pm, cgi/Renderer.pm:
	複数個の検索表現が入力された場合、各々の解析結果を表示するようにした.

2008-08-01  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm:
	デストラクタ呼び出し時にDFDBをuntieするようにした. テリック処理が行われないバグを修正.

	* cgi/QueryKeyword.pm: クエリの解析結果表示を修正.

2008-07-31  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm, cgi/SnippetMaker.pm, cgi/api.cgi, cgi/Renderer.pm:
	kwic生成時に、代表表記の利用、活用形の利用をオプションで指定できるようにした.

	* scripts/snippet_maker_test.pl:
	オプションの追加.

	* cgi/QueryKeyword.pm, cgi/Renderer.pm:
	クエリの解析結果をツールチップ形式で表示するようにした.

2008-07-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm, cgi/api.cgi:
	POST呼び出し時にもスニペットがハイライトされるようにした.

2008-07-29  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm:
	Configure.pmで生成されたKNPオブジェクトを利用するようにした.

	* cgi/Configure.pm:
	configureのパラメータに従ってKNPオブジェクトを生成し、保持するようにした.

	* cgi/SnippetMakerAgent.pm:
	不要コードの削除.

	* cgi/QueryParser.pm:
	デバック文の追加. jumanrcファイルを利用するようにした.

	* cgi/QueryKeyword.pm, cgi/Renderer.pm:
	クエリの解析結果表示に、必須・オプショナル表示を加えた. ウィンドウのサイズを自動調整するようにした.

2008-07-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/log.cgi:
	表示方法を整理した.

	* scripts/TsubakiEngine.pm:
	bug fixed (必須が付いた表現の検索結果が0件の時に発生するバグを修正.)

	* scripts/Indexer.pm:
	SYNGRAPHの結果から<見出し>を抜き出し、変数に持つようにした.

	* cgi/Renderer.pm:
	検索結果にクエリの解析結果を埋め込むようにした.

	* cgi/QueryTrimmer.pm:
	不要コードの整理.

	* cgi/QueryKeyword.pm:
	検索結果を描画するメソッドを追加.

	* cgi/CachedHTMLDocument.pm:
	?問題に対応.

2008-07-22  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryTrimmer.pm:
	<クエリ削除語>素性がついた基本句から索引表現を抽出しないようにした.

	* cgi/QueryFilter.pm:
	不要コードを削除.

2008-07-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	wikiへのリンクを廃止し、「おしらせ」へリンクをはるようにした.

2008-07-17  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryKeyword.pm:
	論理条件がORの時に対応.

	* cgi/QueryKeyword.pm:
	クエリの処理結果(requisite, optionalなど)を, 反映するようにした. debug_printメソッドの追加.

	* cgi/RequestParser.pm:
	クエリ中の動詞を処理するようにした.

	* cgi/QueryParser.pm:
	クエリ中の動詞の処理をオプション化 (デフォルトでは処理されない. 処理する場合はparseメソッドの第2引数にquery_filtering=1を指定する).

	* cgi/QueryParser.pm, cgi/RequestParser.pm:
	クエリを固有表現解析するオプションの追加.

	* cgi/configure, cgi/configure.nict:
	名詞と動詞の相互情報量データベースへのパスを追加(オプション名: MIDB_PATH)

	* cgi/index.cgi:
	デバック表示追加.

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	不要コードの削除

	* scripts/TsubakiEngine.pm:
	bug fixed (requisite指定された文書とoptional指定された文書のORになっていたのを修正, 近接制約適用時に，検索係り受けで得られた文書が入っていたのを除いた)

2008-07-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Cache.pm:
	ヒット件数が0件のときは、キャッシュに保存しないようにした.

	* cgi/RequestParser.pm, cgi/SearchEngine.pm, cgi/Searcher.pm:
	検索時に、キャッシュを利用しないオプション(disable_cache)を追加.

	* cgi/QueryKeyword.pm, cgi/QueryParser.pm, cgi/RequestParser.pm:
	クエリの複合名詞解析をオプション化.

2008-07-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/make_idx.pl:
	NTCIRの文書セットが入力された時は、文書IDの先頭にあるNWを削除するようにした. zcatで開いたファイルを、全部読み込まずにcloseした際に出力されるエラーを/dev/nullにはくようにした.

	* memo/how_to_install_tsubaki: updated.

	* cgi/configure.nict:
	パラメータの追加. (COMPOUND_NOUN_DFDB_PATH. UTILS_PATH)

	* data/PORTS.SYN.NICT: added.

2008-07-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/merge-index.sh:
	bug fixed (binarize_idx.plを呼ぶ際に-typeの値を考慮するようにした)

	* scripts/make-index.sh:
	インデックス作成時に、デフォルトで-ignore_hypernymをつけるようにした.

	* scripts/make_idx.pl:
	インデックス時に上位語を無視するオプションを追加(-ignore_hypernym).

	* scripts/TsubakiEngine.pm: 空の検索結果が生成されるバグを修正

2008-07-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/configure: パラメータの追加.

	* cgi/RequisiteItemDetector.pm:
	debug表示の追加. cgiで動作するようにした.

	* cgi/RequestParser.pm: QueryParserにdebugオプションが回るようにした.

	* cgi/QueryParser.pm: RequisiteItemDetectorを利用するようにした.

	* cgi/QueryKeyword.pm:
	RequisiteItemDetectorの出力に応じて、検索単語・係り受けに対して、必須、オプショナルフラグを立てるようにした.

	* scripts/TsubakiEngine.pm:
	検索単語・係り受けについた必須、オプショナルオプションに対応.

2008-07-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryKeyword.pm:
	KNPでクエリの解析に失敗した際は、エラーメッセージを出力するようにした.

2008-07-05  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryTrimmer.pm:
	<Symptom-Inc型>素性が付いている語を削除しないようにした.

	* cgi/CachedHTMLDocument.pm, cgi/Renderer.pm:
	キャッシュページを表時する際、同義グループの中身の語もハイライトさせるようにした.

	* cgi/QueryParser.pm, cgi/RequestParser.pm:
	クエリ解析時に格解析するオプションを追加した.

	* cgi/Renderer.pm: 使い方ガイドの表示を復活させた.

2008-07-03  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4SynGraphSearch.pm:
	語順に関係なく、近接をスコアに考慮するようにした.

	* cgi/Dumper.pm: <を&lt;に変更するようにした.

	* cgi/QueryKeyword.pm:
	regist_exclude_semi_contentwordオプションがSynGraph.pmにわたるようにした. to_string_verbose時にgidを出力するようにした.

	* cgi/QueryParser.pm:
	「代表+的だ」中の「代表」を検索で用いるようにした. 検索キーワードごとに異なる同義グループが付与されるようにした.

	* cgi/QueryTrimmer.pm:
	<How型>がついている語(eg 方法)を削除しないようにした.

2008-07-02  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* rules/mrph_microsoft.rule: 文末表現削除ルールの追加.

2008-07-01  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4SynGraphSearch.pm:
	同義表現検索において、近接をスコアに考慮するようにした.

	* cgi/SnippetMaker.pm: 準内容語もハイライトされるようにした.

	* cgi/RequestParser.pm:
	bug fixed (フレーズ検索時に、近接制約が付加されないようにした)

	* cgi/Configure.pm: スニペットサーバーの並列化に対応.

2008-06-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/snippet-server.sh: コメント追加.

	* cgi/configure.nict: スニペット生成サーバーの並列化に対応.

	* cgi/Renderer.pm:
	debugオプションがSnippetMakerAgent.pmに渡るようにした.

	* cgi/SnippetMakerAgent.pm: スニペット生成サーバーの並列化に対応.

	* scripts/snippet-server.sh:
	スニペット生成サーバー起動スクリプトを追加.

	* scripts/make_idx.pl: bug fixed (-zオプションを有効にした)

2008-06-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm, cgi/index.cgi: debug文を追加.

	* cgi/RequestParser.pm: debugオプションの追加.

	* cgi/CachedHTMLDocument.pm:
	キャッシュページを表時する際、画像、スタイルシートをダウンロードするようにした.

	* cgi/Renderer.pm:
	「反義語・否定を考慮する」チェックボックスが出るようにした.

2008-06-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm:
	bug fixed (クエリの前後にある空白を削除するようにした)

	* cgi/RequestParser.pm, cgi/configure, cgi/configure.nict:
	configureファイルからテストモードかどうかを指定できるようにした.

	* scripts/Indexer.pm:
	antonym_and_negation_expansionオプション指定時に、末尾の同義表現の反義語・否定表現を生成するようにした.

	* cgi/Query.pm, cgi/QueryKeyword.pm, cgi/QueryParser.pm, cgi/RequestParser.pm:
	同義表現検索時に、反義語、否定表現を考慮するオプション(antonym_and_negation_expansion)を追加.

2008-06-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	キャッシュページを表示する際、基本ノードのラベルだけハイライトさせるようにした。

	* cgi/configure.nict, cgi/configure:
	WWW2sf/tool/perlのパスを環境変数に追加.

	* cgi/index.cgi:
	キャッシュページの整形をCachedHTMLDocument.pmを使って行うようにした.

	* scripts/merge-index.sh:
	オプションで作成するインデックスの種類を切り替えるようにした. 使用するメモリの上限を設定.

	* scripts/make-index.sh: コメント追加.

	* cgi/configure: コメントを追加.

	* cgi/configure.nict: IGNORE_YOMIオプションを追加.

2008-06-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	utf8以外の文字コードで変換されたクエリが来た際は、エラーメッセージを出力するようにした.

	* cgi/Renderer.pm:
	bug fixed.(キャッシュページを表示した際、target=と出力されているのを削除)

2008-06-22  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Query.pm:
	クエリを正規化する際にscore_verboseを考慮しないようにした.

	* cgi/configure: パラメータの追加およびデフォルト値の変更.

2008-06-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* memo/how_to_install_tsubaki: updated.

	* cgi/SnippetMaker.pm:
	ignore_yomiオプションに対応. 
	KWIC生成時に、フレーズ検索の時のみ、動詞の活用形をチェックするようにした. 
	<inLink>,<OutLink>からスニペット生成しないようにした.

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	文書のスコアを計算する部分のコードを整理(SYNGRAPH解析結果から作成したアンカーテキストインデックスに対応.)

	* scripts/Indexer.pm:
	コード整理.

	* scripts/snippet_make_server.pl:
	ignore_yomiオプションの追加.

	* scripts/tsubaki-server.sh:
	verboseオプションの追加

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4OrdinarySearch.pm, scripts/TsubakiEngineFactory.pm, scripts/tsubaki_server.pl:
	score_verboseオプションに対応.

	* cgi/RequestParser.pm:
	score_verbose, develop_modeオプションの追加. 
	QueryParserをnewする際に、ignore_yomiオプションを渡すようにした. 
	デフォルトでSYNGRAPH検索をonにした.

	* cgi/QueryKeyword.pm:
	Indexerが抽出する索引表現のメンバ変数の変更に対応.

	* cgi/Renderer.pm:
	score_verboseオプションでスコアの内訳を表示するようにした. 開発モードのときだけ、検索オプションを表示するようにした.

	* cgi/QueryParser.pm:
	Indexerをnewする際に、ignore_yomiオプションをとるようにした.

2008-06-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/SearchEngine.pm, cgi/configure, cgi/configure.nict:
	リクエストのスケジューリング機能のオン/オフをオプション化.

	* cgi/State.pm, cgi/configure, cgi/configure.nict:
	マスターサーバーが検索中の時、後続するクエリがRETRYする回数をオプション化.

	* scripts/make_idx.pl:
	オプションの追加（-ignore_syn_dpnd, -skip_large_file, -max_num_of_indices），
	オプション(-title, -keywords, -description, -inlinks, -sentences)により索引表現を抽出する箇所を指定するようにした, 
	インリンクの場合は披リンク数を頻度に考慮するようにした, 
	StandardFormatクラスのインスタンスから索引表現を抽出する関数の追加.

	* scripts/make-index.sh:
	作成するインデックスのタイプをオプション化, 使用するメモリの上限を設定(2GB)するなどしてメモリを大量に利用しないようにした.

	* scripts/merge-index.sh:
	バイナリ化処理を追加した.

	* scripts/seek_test.pl:
	-ignore_yomiオプションの追加.

	* cgi/log.cgi:
	検索時のステータスおよびポータルからのアクセスについてのログを表示するようにした.

	* cgi/RequestParser.pm:
	ポータルからのアクセスかどうかのログをとるようにした.

2008-06-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	ブラウザにより読み込むcssをわけた.

	* cgi/RequestParser.pm:
	クエリに追加する制約を~100w(100語以内，語順を考慮しない)に変更

	* cgi/QueryParser.pm, cgi/RequestParser.pm:
	同義表現検索においても近接制約を指定できるようにした.

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	アンカー検索に対応. verbose指定時に出力されるメッセージの追加.

	* scripts/TsubakiEngine.pm:
	コメントの追加, verbose指定時に出力されるメッセージの追加.

	* cgi/Renderer.pm, cgi/RequestParser.pm, cgi/se.css:
	検索結果表示の修正（爆発ポータルからアクセスされた場合はスコアを隠す、検索結果レイアウトの調整）

	* cgi/Renderer.pm:
	使い方ガイドへのリンクを削除, ヒット件数の表示を修正.

2008-06-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	ユーザに見せる検索結果数をNUM_OF_PROVIDE_SEARCH_RESULTSに従って決めるようにした.

	* cgi/configure:
	ユーザに見せる検索結果数をオプション化

	* scripts/tsubaki-server.sh:
	NICT側でも起動できるようにした.

	* cgi/SearchEngine.pm:
	検索スレーブ側からログデータが送信されなかった場合、エラーメッセージを出力するようにした.

	* cgi/QueryParser.pm, cgi/RequestParser.pm:
	ブラウザ検索において、クエリ内の文末表現を検索に用いないようにした.

2008-06-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	ブラウザアクセス時にKWICの左右のコンテキストが表示されないバグを修正.

2008-06-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm:
	同じ基本句から抽出された同義グループに対して同じ色を塗るようにした.

	* cgi/Renderer.pm:
	ヒット件数を3桁ごとにカンマで区切るようにした.

	* cgi/Renderer.pm, cgi/se.css:
	検索クエリ、検索時間の表示方法を変更.

	* cgi/Cache.pm:
	検索クエリがキャッシュされているかどうかを確認するメソッド(exists)の追加.

	* cgi/Renderer.pm:
	検索結果に表示するロゴを小さくした. 検索時のオプションを隠した（とりあえず）

2008-06-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm, cgi/RequestParser.pm:
	URLリクエストによるAPI呼び出し時も、kwic_window_sizeを指定できるようにした.

	* cgi/SnippetMaker.pm:
	複数個のキーワードがある場合、何番目のキーワードを使ってKWICを作るか指定できるようにした.

	* cgi/Renderer.pm, cgi/RequestParser.pm, cgi/api.cgi:
	POSTアクセスに対してもKWIC取得を対応した.


2008-06-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryKeyword.pm:
	正規化時にSYNGRAPH解析結果が出力されないようにした.

	* cgi/Renderer.pm:
	検索時間と検索語を表示するメソッドをわけた. 同義表現検索時の検索語の表示を整理した.

	* cgi/Logger.pm:
	登録されているキーを返すメソッドの追加.

	* cgi/SearchEngine.pm, cgi/log.cgi:
	献策スレーブサーバーが返すログに対応.

	* scripts/TsubakiEngine.pm, scripts/tsubaki_server.pl:
	検索スレーブサーバー側のログをとり、マスターサーバーに返却するようにした.

	* cgi/api.cgi:
	検索スレーブサーバーが混雑している際、その旨を出力するようにした.

	* cgi/Renderer.pm:
	検索時間にスニペット生成時間を加えるようにした. クエリの解析、検索、スニペット生成にかかった時間を表示するようにした.

2008-06-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	同義表現検索指定時に~100Wをつけないようにした.

	* cgi/RequestParser.pm, cgi/index.cgi:
	制約条件の指定がない場合、~100Wをつけるようにした.

2008-06-05  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	Searcher.pmの変更に対応.

	* cgi/configure, cgi/configure.nict:
	検索負荷を判断する際に利用する環境変数の追加.

	* cgi/SearchEngine.pm:
	検索ーバーが混雑しているときは、クエリを投げないようにした.

	* cgi/RequestParser.pm: KWIC表示に関するオプション(kwic=0/1)を追加.

	* cgi/Searcher.pm:
	検索結果が取得できたのか、できた場合はどの方法で取得したのかをロギングするようにした.

	* cgi/SnippetMakerAgent.pm:
	アクセス方法（API、ブラウザ）によってKWIC作成メソッドをわけた.

	* cgi/api.cgi:
	RendererのコンストラクタにAPIからの呼出であることを示す変数をセット.

	* cgi/Renderer.pm:
	サーバーが込んでる際はその旨を表示するようにした.

	* cgi/Renderer.pm:
	KWIC表示をAPIでも得られるようにした. get_snippetsメソッドをAPI呼出時にも呼ぶようにした. コードの整理.

	* scripts/snippet_make_server.pl, scripts/snippet_maker_test.pl:
	旧バージョンの標準フォーマットからKWICを生成できるようにした.

	* scripts/StandardFormatData.pm:
	旧バージョンの標準フォーマットに対応.

	* cgi/Renderer.pm:
	TUTORIALを[使い方ガイド]に変更.

	* cgi/api.cgi:
	通常のAPIアクセス時に<Cache>内が表示されないバグを修正.

2008-05-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	チュートリアルページへのリンクを追加.

2008-05-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	初期画面の描画時にフラグ付文字列が出力されないようにした.

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4OrdinarySearch.pm, scripts/TsubakiEngineFactory.pm:
	索引表現ごとに計算されるスコアの保持をオプション化 (デフォルトでは保持しない, 消費メモリを20%削減)

2008-05-22  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	URIパラメタの変更, アンカーテキストを考慮するようにパラメタのデフォルト値を変更した.

	* cgi/Renderer.pm:
	KWIC表示におけるソート方法の表示の仕方を変更.

	* cgi/SnippetMaker.pm:
	KWIC作成時に、代表表記レベルで文とのマッチングをとるのをやめた

	* cgi/Renderer.pm: SnippetMaker.pmの変更に対応.(KWIC表示)

	* cgi/SnippetMaker.pm:
	KWIC作成の際、前後の文もコンテキストとして表示するようにした.

	* scripts/StandardFormatData.pm: <S>要素を取得する正規表現のバグ修正

	* cgi/Searcher.pm:
	類似ページ判定において、UTF8フラグが落ちている状態でタイトルを比較していたバグを修正.

2008-05-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/api.cgi:
	ハイライト表示のオン/オフを切り替えられるようにした.

	* cgi/Renderer.pm:
	スニペットのハイライト表示をリクエストパラメータで制御できるようにした.

	* cgi/RequestParser.pm:
	highlightオプションをPOST呼出にも対応させた.

	* cgi/RequestParser.pm:
	APIが返すスニペットをハイライトさせるオプションを追加 (highlight=0/1 デフォルト: 0(オフ))

	* cgi/Renderer.pm: SnippetMakerAgent.pmの変更に対応.

	* cgi/SnippetMakerAgent.pm:
	get_decorated_snippets_for_each_did()メソッドとget_snippets_for_each_did()メソッドをマージし、ハイライトするかどうかはget_snippets_for_each_did()メソッドのオプションにした.

	* cgi/SnippetMakerAgent.pm:
	検索クエリ内の語に付与されたスタイル情報を使って、スニペットのハイライト表示を作成するように変更した.

	* cgi/Renderer.pm:
	検索クエリ内の語に付与されたスタイル情報を使って、検索結果のハイライト表示をするように変更した. SYNGRAPH検索時に表示されるツールチップを作成する部分を関数化.

	* cgi/QueryParser.pm:
	クエリ内の各語のスタイル情報を付与するようにした. 全角空白を区切りとして見なすようにした.

	* cgi/SnippetMaker.pm:
	クエリと文のマッチングをとる際、動詞については活用形を考慮するようにした（KWIC作成時）

	* scripts/snippet_maker_test.pl:
	コードの整理.

	* cgi/Renderer.pm:
	KWIC表示の際、タイトルがない場合はno_title.と表示するようにした.

	* cgi/SnippetMaker.pm:
	KWIC生成時に、文とクエリのマッチングを代表表記レベルで行うようにした.

	* scripts/snippet_maker_test.pl:
	-kwicオプションが指定された際、SnippetMaker::extract_sentences_from_standard_formatメソッドの戻り値が変わったので、それに対応した.

	* scripts/StandardFormatData.pm:
	不要なコードの削除, 読み込み済みの標準フォーマットをコンストラクタで受け付けるようにした, parseLinkInfoメソッド内の正規表現のバグを修正.

	* cgi/SnippetMakerAgent.pm:
	スニペット用の処理からKWIC用の処理を切り離し、独立のメソッドにした.

	* cgi/Renderer.pm:
	検索結果表示部分からKWIC表示部分を切り離し、独立のメソッドにした.

	* cgi/RequestParser.pm: 環境変数およびKWIC用パラメータの追加.

	* cgi/SnippetMaker.pm:
	スニペット生成メソッドからKWIC生成部分を切り離し、独立のメソッドにした.


2008-05-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* utils/api_req.pl:
	formatオプションにて取得するデータのタイプを指定できるようにした.

	* cgi/SnippetMaker.pm, cgi/configure, cgi/configure.nict:
	スニペットサーバー上にある標準フォーマットへのパスを，設定ファイルから読み込むようにした.

2008-05-19  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm:
	クエリ解析にかかる時間を検索時間として考慮するようにした. キャッシュの場合の表示を変更.

	* cgi/configure, cgi/configure.nict:
	キャッシュ用のパラメータを追加.

	* cgi/SearchEngine.pm:
	検索結果をキャッシュするようにした.

	* cgi/QueryKeyword.pm:
	キーワードを正規化するメソッドを追加.

	* cgi/QueryParser.pm: クエリの内部表現を構造体からクラスに変更.

	* cgi/log.cgi:
	表示に用いるログデータの属性を列挙した.

	* cgi/Renderer.pm:
	ブラウザ検索において、類似ページのスニペットが全て同じになっているバグを修正.

2008-05-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngineFactory.pm:
	TsubakiEngine4SynGraphSearchをnewする際、idxdir4anchorをメンバ変数として持たせるようにした

	* cgi/SnippetMaker.pm:
	文法素性が考慮されないバグを修正. makeIndexfromSynGraphを呼ぶ際にオプションを渡すようにした.

	* cgi/SnippetMakerAgent.pm:
	文頭のS-IDを削除するようにした.

	* cgi/configure.nict, cgi/configure:
	KWIC表示に関するデフォルト値を変更.

	* cgi/Renderer.pm, cgi/SnippetMakerAgent.pm:
	KWIC表示の際、左右のコンテキストが折り返されないようにした.

	* scripts/TsubakiEngine4OrdinarySearch.pm:
	TsubakiEngine.pmの変更に対応.

	* scripts/TsubakiEngine.pm:
	アンカーテキスト検索用Retrieveを必要時にnewするように変更.

2008-05-15  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/SnippetMakerAgent.pm:
	キーワードのハイライトを正規表現マッチに変更.

	* scripts/snippet_maker_test.pl:
	SnippetMaker.pmの変更に対応.

	* cgi/SnippetMaker.pm, cgi/SnippetMakerAgent.pm:
	KWIC表示において、代表表記を考慮してハイライトするように変更.

	* cgi/configure, cgi/configure.nict: KWIC表示に関するオプションの追加.

	* cgi/SnippetMakerAgent.pm:
	KWIC表示の仕様に合わせた.

	* cgi/Renderer.pm:
	KWIC表示の仕様を変更. KWIC表示の切り替えをブラウザで出来るようにした.

	* cgi/SnippetMakerAgent.pm:
	KWIC表示の際、クエリ全体がハイライトされるように変更.

2008-05-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Renderer.pm, cgi/RequestParser.pm:
	フォームのパラメータ名を変更.

	* cgi/SnippetMakerAgent.pm:
	kwic作成用メソッドの追加.

	* scripts/snippet_maker_test.pl:
	kwicオプションの追加.

	* cgi/Renderer.pm:
	kwicオプションに対応，フォームの送信方法をPOSTからGETに変更，APIが出力する検索結果にanchorオプションの値を表示するようにした.

	* cgi/RequestParser.pm:
	kwicオプションをとるように変更.

	* cgi/SnippetMaker.pm:
	kwicオプションが指定されている時には、全ての係り受けを含む文だけを重要文として抽出するように変更.

2008-05-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	アンカーテキストのオン/オフをオプションで指定できるようにした.

	* scripts/TsubakiEngine.pm:
	アンカーテキストを考慮するかどうかのフラグを、メンバ変数からメソッドの引数に変更.

	* scripts/tsubaki_server.pl:
	アンカーテキストを考慮するかどうかのフラグを検索クエリから取得するように変更.

2008-05-12  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/log.cgi:
	新しいログフォーマットに対応.

2008-05-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/merge_sorted_idx.pl:
	Format error発生時に次の行を読みにいくようにした.

2008-05-02  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/make_idx.pl:
	-schemeオプションで、標準フォーマット内の解析結果の種類を指定できるようにした.
	標準フォーマットに新しく追加されたタグに対応（InLink/OutLink/Description/Keywords）

2008-04-28  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4OrdinarySearch.pm:
	アンカーテキスト検索に対応.

	* scripts/TsubakiEngine.pm, scripts/TsubakiEngine4OrdinarySearch.pm, scripts/TsubakiEngine4SynGraphSearch.pm:
	誤commitを元に戻した.

	* scripts/TsubakiEngineFactory.pm:
	通常検索でアンカーテキストを考慮するオプションを追加.

	* scripts/tsubaki_server.pl, scripts/tsubaki_test.pl:
	アンカーテキストオプションの追加.

	* cgi/QueryParser.pm:
	load_DFDBs内で、cdbファイル以外をロードしないようにした.

	* cgi/QueryParser.pm:
	newの時、DFDB_DIRに初期値を代入するのをやめた.

	* cgi/Renderer.pm: info-plosionロゴを表示するようにした.

	* utils/api_req.pl: 標準フォーマット取得オプションの追加.

2008-04-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Indexer.pm:
	<反義語><否定>の利用をオプション化した. <反義語>を削除しないようにした.

	* cgi/QueryKeyword.pm:
	configure内のSYNGRAPH検索オプションを使うようにした.

	* cgi/SnippetMaker.pm:
	文法素性を削除するようにした.

	* cgi/configure:
	SYNGRAPH検索のオプション（係り受けの利用、<上位語>の利用、<反義語><否定>の利用）を設定ファイルに移行.

2008-04-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryKeyword.pm, cgi/QueryParser.pm, cgi/SnippetMaker.pm, cgi/SnippetMakerAgent.pm, cgi/configure:
	誤ってcommitしたものを前のバージョンに戻した.

	* cgi/index.cgi: 誤ってcommitしたのを戻した.

	* cgi/QueryKeyword.pm, cgi/QueryParser.pm, cgi/SnippetMaker.pm, cgi/SnippetMakerAgent.pm, cgi/configure, cgi/index.cgi:
	SnippetMaker.pm

	* scripts/Indexer.pm:
	文法素性を削除，上位語の利用，係り受け関係の利用をオプション化.

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	インデックスからロードしたスコアを割らないようにした（Retrieve.pm側でスコアを割るようにしたため）, bug fixed(get_minimun_distanceの戻り値が-1の時は、近接ボーナスを与えない)

	* scripts/tsubaki_server.pl:
	-syngraphオプションの追加.

2008-04-21  Tomohide Shibata   <shibata@nlp.kuee.kyoto-u.ac.jp>

	* doc/manual.tex: 言語解析部分をupdate

2008-04-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Retrieve.pm:
	searchメソッドからSYNGRAPH検索に分岐するようにした. load_scoreメソッドにおいて1000で割るようにした. コード整理.

	* scripts/seek_test.pl, scripts/seek_test_syn.pl:
	SYNGRAPH検索に対応(seek_test_syn.plの廃止). QueryParserを使うようにした.

2008-04-18  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine4OrdinarySearch.pm:
	OKAPIのパラメータをBM25に戻した. bug fixed(get_minimun_distanceの戻り値が-1の時は、近接ボーナスを与えない)

	* scripts/Indexer.pm, cgi/QueryTrimmer.pm:
	<内容語>を追加.

	* cgi/SnippetMaker.pm:
	<内容語>を見るようにした.

	* cgi/SnippetMaker.pm:
	debug出力の追加, -string_mode指定時にスコアが下がるバグを修正, 文IDを標準フォーマットから抽出するようにした.

	* scripts/snippet_maker_test.pl:
	-debugオプションの追加.

2008-04-17  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/SnippetMaker.pm:
	変数名を修正(midashi -> midasi)

	* scripts/snippet_maker_test.pl:
	added new options (-string_mode, window_size)

	* cgi/api.cgi:
	binmodeを実行するタイミングを変更.

	* cgi/index.cgi:
	binmodeの実行を検索結果表示の場合のみに変更.

	* scripts/TsubakiEngine.pm:
	語順を考慮するかどうかのフラグを指定してfilter_by_NEAR_constraintメソッドを呼ぶように変更.

	* cgi/QueryKeyword.pm:
	近接検索時に語順を考慮するかどうかの条件を保持するメンバ変数の追加.

	* cgi/QueryParser.pm:
	近接制約において、語順を考慮するかを指定できるようにした. nearで指定された値を受け取るようにした.

	* cgi/RequestParser.pm:
	デフォルト値の変更. nearで指定された値をQueryParserに渡すようにした.

	* scripts/TsubakiEngine.pm:
	近接制約適用時に、語順を考慮するかどうかのオプションを追加化.

2008-04-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/snippet_make_server.pl:
	西千葉標準フォーマットから重要文を抽出するオプションを追加.

	* scripts/Indexer.pm:
	containsSymbolsメソッドをコメントアウト.

	* cgi/SnippetMaker.pm:
	Indexer.pmの仕様変更に対応.

	* scripts/Indexer.pm:
	KNPの解析結果(文字列)から検索に用いる表現を抽出するメソッドの追加.

	* cgi/QueryKeyword.pm:
	Indexer.pmの仕様変更に対応.

	* cgi/configure, cgi/configure.nict:
	KNPのオプションに-dpndを追加.

	* scripts/snippet_maker_test.pl, cgi/QueryParser.pm, cgi/SnippetMakerAgent.pm, cgi/query-parser-test.perl:
	configureファイルの変更に対応.

	* cgi/configure, cgi/configure.nict:
	JUMAN_PATH, KNP_PATHをJUMAN_COMMAND, KNP_COMMANDに変更.

	* cgi/Searcher.pm, cgi/Logger.pm, cgi/SnippetMakerAgent.pm, cgi/api.cgi:
	Wide character in print がログファイルに出力されないようにした.

	* cgi/Renderer.pm, cgi/index.cgi:
	Wide character ein print がログファイルに出力されないようにした.

	* scripts/snippet_make_server.pl:
	タイムアウトを削除, verboseのコメントを修正.

	* scripts/TsubakiEngine.pm:
	added verbose messages, intersectメソッドの引数にオプションを追加

	* scripts/Retrieve.pm:
	added verbose messages.

	* scripts/seek_test.pl:
	Retrieve.pm, Dumperを使うように変更.

2008-04-15  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	Renderer.pm, Searcher.pmの変更に対応.

	* cgi/Renderer.pm:
	スニペット生成を行うようにした, 検索結果後の画面レイアウトを変更

	* cgi/Searcher.pm:
	スニペット生成部分をRenderer.pmに移動.

	* cgi/configure.nict:
	defalut値の変更.

2008-04-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/tsubaki_server.pl:
	負荷を返す機能を追加.

	* scripts/tsubaki_server.pl:
	起動しているかどうかの確認時に、ポート番号も返すように変更. 不要コードの削除.

	* cgi/QueryParser.pm:
	CDB_Fileをuseするように変更.

	* scripts/snippet_make_server.pl:
	起動しているかどうかの確認時に、ポート番号も返すように変更. 不要コードの削除.

	* scripts/snippet_make_server.pl, scripts/tsubaki_server.pl:
	サーバーが起動しているかどうかチェックする問い合わせを受け付けるようにした.

	* cgi/api.cgi:
	bug fixed. (標準フォーマットが取得されないバグを修正)

	* cgi/RequestParser.pm:
	start, resultsの値が不適切な場合はエラーを出力するようにした．

	* cgi/Renderer.pm:
	エラー表示用クラスメソッドの追加.

2008-04-12  Keiji Shinzato  <shinzato@nlpc.kuee.kyoto-u.ac.jp>

	* cgi/RequestParser.pm:
	スニペットが表示されない不具合を修正.
	検索結果取得件数Nが5000件を超える場合は、1.5 * N / サーバー台数 分返すようにした.

	* cgi/configure, cgi/configure.nict:
	SYNGRAPH検索を停止するオプションを追加.

	* cgi/Renderer.pm:
	SYNGRAPH検索がOFFの際は、表示がグレーアウトするようにした.

	* cgi/index.cgi:
	先頭にあるperlのパスを変更.

	* scripts/TsubakiEngine.pm:
	bug fixed.(係り受け強制制約適用時、文書IDチェックの終了条件を修正).
	verbose時に出力されるコメントを追加.

2008-04-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Configure.pm
	誤ってcommitしたのを戻した.

	* cgi/QueryKeyword.pm:
	出力メソッドを追加.

	* cgi/QueryParser.pm:
	trimmingオプションの追加.

	* cgi/QueryTrimmer.pm:
	コード整理.

	* cgi/Renderer.pm:
	small changes (変数名変更)

	* cgi/api.cgi:
	文書情報取得APIのバグを修正

2008-04-08  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/SearchEngine.pm:
	検索に要した時間のログを取得するように変更.

	* cgi/Searcher.pm:
	検索に要する時間のログをSearchEngine.pmでとるように変更.

	* cgi/api.cgi:
	APIで行っていた処理を整理（Searcher.pm,RequestParser.pm,Renderer.pm,Logger.pmを使用）

	* cgi/RequestParser.pm:
	API呼び出しのパラメータを解析する関数の追加.

	* cgi/Searcher.pm:
	コード整理

	* cgi/QueryKeyword.pm:
	to_string()メソッドの簡易版(to_string_simple)を追加.

	* cgi/Renderer.pm:
	API用の出力メソッドを追加．(printSearchResultForAPICall,printResult,printRequestResult)

	* cgi/SearchEngine.pm:
	ログを出力するように変更.

	* cgi/index.cgi:
	リクエスト解析処理をRequestParser.pmに移行.

	* scripts/tsubaki_server.pl:
	検索結果すべてについてデータベースを引くように変更.

2008-04-07  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/snippet_make_server.pl:
	added new verbose messages.

2008-04-03  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/tsubaki_server.pl:
	検索結果数の調整をindex.cgiに委譲.

	* scripts/TsubakiEngine.pm:
	remove OKAPI module.

	* scripts/Retrieve.pm:
	added new verbose messages.

	* cgi/configure, cgi/configure.nict:
	added new parameters.

	* cgi/index.cgi:
	コード整理, 検索結果取得件数を算出する際にサーバー台数Nを考慮

	* cgi/Searcher.pm:
	コード整理, merge_search_results内でタイトルDBの引き漏れがあったので修正.

	* cgi/RequestParser.pm:
	added new default parameters.

	* cgi/Renderer.pm:
	コード整理.

	* cgi/Logger.pm:
	added getParameter method.

	* cgi/configure, cgi/configure.nict:
	パラメータの追加（SEARCH_ACCURACY, NUM_OF_RESULTS_PER_PAGE）

2008-04-01  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Logger.pm:
	closeの引数にファイル名を指定できるようにした．

	* cgi/SnippetMaker.pm:
	Indexer.pmの変更に対応（makeIndexFromKNPResultを使うようにした）．

2008-03-31  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi: QueryParserの変更に対応．

	* cgi/QueryParser.pm:
	デフォルトでパラメータをconfigureからロードするように変更．

2008-03-31  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	QueryParserの変更に対応．

	* cgi/QueryParser.pm:
	デフォルトでパラメータをconfigureからロードするように変更．

2008-03-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/Searcher.pm:
	Logger.pmを使ってログをとるように変更．

	* cgi/index.cgi:
	api.cgiと共通する処理を他のモジュール(RequestParser.pm, Searcher.pm, Logger.pm, Renderer.pm)に委譲．

2008-03-25  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	スニペット生成時にタイトルを含めないように変更.
	dfのロードをQueryParser.pmに移行．

	* cgi/SearchEngine.pm:
	dfのロードをQueryParser.pmに移行．

	* scripts/make_idx.pl:
	オプションの追加(-ignore_yomi, -genkei)
	Indexer.pmの変更に対応
	$midashiを$midasiに変更

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	merge_docs()メソッドを修正

	* scripts/TsubakiEngine4OrdinarySearch.pm:
	dpnd_on, dist_on, MIN_DLENGTHオプションの追加
	OKAPIのパラメタを変更
	クエリの重みをスコア付けに利用
	q2scoreにより各索引のスコアをログに保存

	* scripts/TsubakiEngine.pm:
	requisiteフラグに対応
	係り受け、近接の利用をオプション化
	近接制約を語順に依存しないようにした

	* scripts/Retrieve.pm:
	SynGraphインデックスのフォーマット変更に対応(search_syngraph_test_new_format())

	* scripts/Indexer.pm:
	読み削除(ignore_yomi)，原形抽出(genkei)のオプションを追加
	KNP::Resultから索引を抽出するようにした
	連体形の正規化メソッドの追加(normalize_rentai)
	indexing4syngraph中で係り受けPの扱いを誤るバグ修正

	* scripts/snippet_maker_test.pl:
	実行時の引数としてファイルパスを取るように変更

	* scripts/tsubaki_test.pl:
	検索結果の表示フォーマットを変更
	QueryParserをnewする際の引数をConfigure.pmから取得するように変更．

	* scripts/seek_test_syn.pl:
	SynGraphインデックスのフォーマット変更に対応

	* scripts/indexer-test.pl:
	Indexer.pmの変更に対応

	* scripts/TsubakiEngineFactory.pm:
	dpnd_on, dist_onオプションに対応

	* cgi/QueryParser.pm:
	索引語の重み付け，削除を行うオプションの追加(trimming)
	メンバ変数を追加(qid2df, gid2qids)
	gdfdbを引くように変更
	SynNodeのgdfを基本ノードのgdfにする
	DFDB_DIRが指定されていない場合は空の配列ポインタを返すように変更

	* cgi/QueryKeyword.pm:
	KNP::Resultを使ってクエリを処理するように変更
	to_string()メソッドのフォーマット変更
	クエリを前処理するオプションの追加(trimming)
	メンバ変数の追加(weight,NE,question_type,isBasicNode,fstring)

	* scripts/tsubaki_server.pl:
	タイトル, URLをローカルでひくようにした
	係り受け，近接の利用をオプション化

2008-03-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/SnippetMaker.pm:
	extract_sentences_from_content()メソッドの追加．

2008-03-15  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm: add use Configure.

	* scripts/update-dfdb.sh: small changes.

	* scripts/merge_files.perl: move to Utils/scripts

	* scripts/update-dfdb.sh: make-df-db.perlを使うように変更.

	* scripts/merge_files.perl, scripts/cdb2txt.perl, scripts/update-dfdb.sh:
	added.

2008-03-15  Tomohide Shibata  <shibata@reed.kuee.kyoto-u.ac.jp>

	* cgi/Configure.pm:
	$CONFIG_FILE_PATHを自分と同じディレクトリ以下にあるものを指すように変更

2008-03-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/configure: Change default values.

	* cgi/query-parser-test.perl: added.

	* ChangeLog: updated.

	* cgi/QueryParser.pm: SynGraphを必要時にだけnewするように変更.

2008-03-13  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm:
	SynGraphを必要時にだけnewするように変更.

2008-02-10  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* cgi/configure, cgi/configure.nict: KNPのrcfileを含めた．

	* cgi/QueryParser.pm: KNPをnewする時、rcfileを指定するように変更．

	* cgi/QueryParser.pm: SynGraph.pmのロード順序を変更．

	* cgi/configure: SynGraph.pmの置き場所を記述．

	* cgi/QueryParser.pm:
	設定ファイルに記述されたSynGraph.pmをuseするように変更．

	* cgi/configure.nict: SynGraph.pmの置き場所を設定ファイルに記述．

	* cgi/Configure.pm: 設定ファイルのデフォルトパスを変更．

	* cgi/index.cgi, cgi/api.cgi, cgi/SnippetMakerAgent.pm, cgi/SearchEngine.pm:
	設定ファイルに記述された環境変数を用いるように変更．

2008-02-09  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/make-dlength-db.perl: 基本形を計数するバグをフィックス

	* cgi/api.cgi:
	検索結果のソート方法を指定できるようにした（ランダム、スコア）

	* cgi/api.cgi: 検索結果に含めるファイルのサイズを指定できるように変更．

	* cgi/api.cgi: SYNGRAPH検索、近接検索をapiで指定できるようにした．

	* cgi/api.cgi: 内容語ごとにURIエスケープするように変更．

	* cgi/api.cgi:
	検索サーバー側でひかれなかったタイトル・URLの数をログに保存するようにした．

	* cgi/api.cgi:
	キャッシュページを取得する際、utf8化しないオプションno_encodingを追加．

	* cgi/api.cgi:
	SnippetMakerAgentを使ってスニペットを生成するように変更．

	* cgi/api.cgi: 検索結果に含めるフィールドを指定できるようにした．

	* cgi/api.cgi: 検索結果ページ構造体のメンバ変数名の変更に対応．

	* cgi/api.cgi: 文書情報を個別に取得できる機能の追加．

	* cgi/index.cgi:
	同義表現検索時に、SynNodeの中身をツールチップで表示するように変更．

	* cgi/index.cgi: print_search_result関数を整理

	* cgi/index.cgi: SnippetMakerAgentを通してスニペットを作るように変更．

	* cgi/index.cgi:
	検索サーバーから返却されるページ数を調整するパラメータを導入．

	* cgi/index.cgi:
	類似ページ判定の際、no_titleであるページは考慮しないように変更．

	* cgi/index.cgi:
	検索結果をマージする際、空の配列にアクセスしないようにした．

	* cgi/index.cgi:
	検索結果ページのメンバ変数の変更に対応（scoreからscore_totalに変更）．

	* cgi/index.cgi: サービス停止用のフラグを設けた．

	* cgi/index.cgi:
	IDだけでキャッシュされたページが取得できるように変更（今まではディレクトリパスが丸出しになっていた）

	* cgi/index.cgi:
	クエリ解析時間、DFDBをひく時間をログとして保存するように変更．

	* cgi/index.cgi: 検索サーバーが返すタイトル・URLを利用するように変更．

	* cgi/SnippetMakerAgent.pm: select_snippetsメソッドの追加．

	* cgi/SnippetMaker.pm: 不要な関数の削除．

	* cgi/SearchEngine.pm: メンバ変数の変更に対応．

	* cgi/SearchEngine.pm: .keymapファイルを読み込まないように変更．

2007-12-28  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Indexer.pm: 並列Pを係り受けDに変換する部分のバグ修正

2007-12-20  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine4OrdinarySearch.pm:
	インデックスがどの程度文書のスコアに貢献したか返すように変更．係り受け、近接スコアの考慮を制御するフラグオプションの追加．

2007-12-17  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm:
	bug fixed.(get_minimun_distnaceでポジションが片方しかない場合は-1を返す)

2007-12-16  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngineFactory.pm:
	文書平均長をオプションで指定できるように変更

2007-11-10  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine4SynGraphSearch.pm, scripts/TsubakiEngineFactory.pm:
	store_verboseオプションを復活

2007-10-31  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine4SynGraphSearch.pm:
	検索クエリに含まれる係り受けがドキュメント集合に一度も出てこない場合にdieしていたのを修正

	* scripts/TsubakiEngine.pm:
	関数get_minimum_distanceを外部関数に

2007-10-24  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine4OrdinarySearch.pm:
	検索クエリに含まれる係り受けがドキュメント集合に一度も出てこない場合にdieしていたのを修正

2007-10-10  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/binarize_idx.pl:
	入力ファイルがカレントディレクトリにあるファイルの場合に対応

2007-07-18  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* cgi/QueryParser.pm, scripts/Indexer.pm:
	ストップワードを指定できるようにした

2007-07-16  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm:
	ログを保持するオプションを追加

2007-07-11  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm, cgi/QueryKeyword.pm, cgi/QueryParser.pm:
	qtfを考慮するように変更

2007-07-10  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Indexer.pm:
	<下位語数>をインデックスに含めないように変更

2007-07-09  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm, scripts/tsubaki_test.pl:
	単語に対する係り受けのスコアの重みを指定できるようにした(デフォルト:1)
	
2007-07-08  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/tsubaki_test.pl:
	下位語数が $opt{hypocut} より大きければ、SYNノードをはりつけないようにした(デフォルト値:9)

	* cgi/QueryParser.pm:
	$opts->{syngraph_option}を受け付けるようにした

2007-07-03  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/TsubakiEngine.pm:
	小規模なテスト用にdlengthのDBをハッシュでもつオプションを追加

2007-06-28  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/binarize_idx.pl:
	足切りの閾値をオプション化

	* README:
	updated.

2007-06-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_idx.pl:
	-position指定時に出現している文IDも出力するように変更

2007-06-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_idx.pl:
	-z, -position, -synオプションの追加.
	コード整理.

	* scripts/Indexer.pm:
	SynGraph解析結果からインデックスを作成するメソッドの追加.
	同一文中に複数回出現する単語の出現位置が上書きされるバグを修正.

2007-06-19  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	SynGraph解析結果からインデックスを作成するメソッドの追加，単語の出現位置を＜意味有＞の付かない語についても持つように変更. (文間をつめるように変更)

2007-03-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	索引語の文中の位置(文の先頭から何単語目か)および文書中の位置(文書の先頭から何単語目か)を保持するように変更.（否自立語は数えない、文間はあける）

2007-03-16  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* cgi/QueryParser.pm:
	Indexer.pmのオブジェクト化に対応

	* scripts/make_idx.pl:
	バグ修正.

	* cgi/api.cgi
	ログファイルを出力するディレクトリを変数化.

	* cgi/index.cgi
	ログファイルを出力するディレクトリを変数化.
	
2007-03-15  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Indexer.pm:
	関数makeIndexfromKnpResultに、係り受けインデックスを行わないオプション(-no-dpnd)を追加

2007-03-14  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_idx.pl:
	Annotationタグの変更に対応、Indexer.pmのオブジェクト化に対応.

	* scripts/Retrieve.pm:
	printLog関数追加、forkに対応.
	
	* scripts/Binarizer.pm:
	idxファイルをバイナリ化するクラスを追加.

	* scripts/binarize_idx.pl:
	Binarizer.pmを用いてidxファイルのバイナリ化をするように変更.

	* scripts/merge_idx.pl:
	suffix(*.idx.gzの.gzなど)を指定するオプション-suffix、分割してマージする際のオプション-nを追加.

	* scripts/merge_sorted_idx.pl:
	suffix(*.idx.gzの.gzなど)を指定するオプション-suffixの追加.

	* scripts/mk_ngram.pl:
	文字Nグラムインデックスを作成するmk_ngram.plを追加.

	* scripts/binarize_idx3.pl:
	文字Nグラムインデックスをバイナリ化するbinarize_idx3.plを追加.

	* scripts/se_server.pl:
	forkに対応、処理を関数化(parseInput, search_wo_hash, returnSearchResults)、Retrieve.pmからいくつかの処理を移動(calculateDocumentScores, calculateOKAPIScore, intersect_wo_hash).

	* scripts/idx2df.pl:
	idxファイルを "単語 文書頻度" の形に変換するidx2df.plを追加.

	* cgi/QueryParser.pm:
	検索クエリを内部表現に変換するクラスQueryParser.pmを追加.

	* cgi/SearchEngine.pm:
	検索サーバにアクセスするクラスSearchEngine.pmを追加.

	* cgi/SnippetMaker.pm:
	標準フォーマットからsnippetを作成するクラスSnippetMaker.pmを追加.

	* cgi/index.cgi:
	snippetの作成、検索サーバへの問い合わせ、クエリの解析等apiと共通する部分をクラス化し、共有するように変更.

	* cgi/api.cgi:
	index.cgiと共通の処理を、各処理に対応したクラスを介して行うように変更.
	
2007-03-11  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	係り先が最後の基本句の場合、係り元の係り先として-1をとっていたバグを修正
	
2007-02-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	並列句の係り元の係り先を、係り先の係り先にするように変更.
	フォークとナイフで食べる: フォーク->食べる，ナイフ->食べる

2007-02-21  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	インデックスのポジションを出力するように変更.
	オブジェクト化.

2006-12-04  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_index.pl:
	ウィンドウ幅を指定してインデックスを作成するオプション-windowの追加.

2006-10-31  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	jumanの解析結果を索引付けする際、記号を無視するように変更.

2006-10-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_idx.pl:
	Indexer.pm の 変更(use utf8)に対応.

2006-10-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	makeIndexfromJumanResult, makeIndexfromKnpResult に関数名を変更.

2006-10-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	use utf8 変更に伴う文字コード関係のバグを修正.

2006-10-30  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	use utf8 の追加と不要な文字列が出力されるバグを修正.

2006-10-29  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	アルファベットの小文字を大文字に変換して索引付けするように変更.
	
2006-10-29  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	複数の代表表記を持つ形態素を索引付けする際、代表表記の個数で割って頻度をとるように変更.
	
2006-10-27  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Retrieve.pm:
	DF値を文書集合全体から求めるように変更.

2006-10-26  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/merge_sorted_idx.pl:
	正規表現にマッチしない場合のエラー処理を追加

2006-10-24  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	<記号>でははじけない記号を文字コードを見て削除

2006-10-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/make_idx.pl:
	係り受けインデックスを作成するオプション(-knp)を追加

2006-10-23  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* scripts/Indexer.pm:
	jumanまたはknpの解析結果から索引付けする要素を抽出するモジュール(Indexer.pm)を追加

2006-10-19  Keiji Shinzato  <shinzato@nlp.kuee.kyoto-u.ac.jp>
	* cgi/Retrieve.pm:
	intersect_wo_hash関数で、全ての検索クエリを含まない文書が選択されるバグを修正.

2006-09-20  Daisuke Kawahara  <dk@nict.go.jp>

	* cgi/index.cgi:
	modified to use Retrieve.pm:

	* cgi/api.cgi:
	added a framework for acquiring xml information.

2006-09-12  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* cgi/index.cgi:
	added.

2006-09-11  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/Retrieve.pm:
	closedirしていなかったのを修正

2006-09-08  Daisuke Kawahara  <dk@nict.go.jp>

	* cgi/api.cgi:
	added.

2006-09-08  Tetsuro Sasada  <sasada@nlp.kuee.kyoto-u.ac.jp>

	* scripts/Retrieve.pm:
	added OKAPI.

2006-09-08  Tomohide Shibata  <shibata@nlp.kuee.kyoto-u.ac.jp>

	* sample_dat:
	added.

2006-09-08  Daisuke Kawahara  <dk@nict.go.jp>

	* scripts/retrieve.pl:
	retrieve.plをモジュール化

	* scripts/Retrieve.pm:
	added.

2006-08-28  Ryohei Sasano  <ryohei@nlp.kuee.kyoto-u.ac.jp.ac.jp>

	* scripts/make_idx.pl:
	大量のファイルを読み込むときにMemoryが足りなくなるバグを修正
	XMLをテキストとして処理するオプション(-direct)を追加
	
2006-08-25  Ryohei Sasano  <ryohei@nlp.kuee.kyoto-u.ac.jp.ac.jp>

	* doc/overview.ppt:
        New file.

2006-08-24  Ryohei Sasano  <ryohei@nlp.kuee.kyoto-u.ac.jp.ac.jp>

	* scripts/make_idx.pl, scripts/merge_sorted_idx.pl, scripts/binarize_idx.pl, scripts/merge_idx.pl, scripts/retrieve.pl:
        imported.

